<div class="sm:container mx-auto px-4">
  <nz-page-header
    class="site-page-header"
    nzSubtitle="مانده"
    [nzTitle]="remainingTemp"
  ></nz-page-header>

  <ul class="bank-list">
    <li *ngFor="let bank of banks | async">
      {{bank.label}}:
      <input nz-input nzBorderless placeholder="0" [(ngModel)]="bank.balance" (blur)="onBankChange(bank)" />
    </li>
  </ul>

  <div class="flex flex-col gap-4 mt-6">
    <article *ngFor="let item of transactions | async" [ngClass]="{'opacity-50': item.isPaid}" class="flex flex-col gap-2 p-4 relative rounded-md bg-white shadow">
      <div>
        <p class="card-value">{{ item.date | localDate }}</p>
      </div>

      <div>
        <span class="card-label">شرح</span>
        <p class="card-value font-bold">{{ item.description }}</p>
      </div>
      <div>
        <span class="card-label">مبلغ</span>
        <p class="card-value">{{ item.amount | number }}</p>
      </div>

      
      <div class="absolute top-4 left-4 bg-white">
        <label nz-checkbox [(ngModel)]="item.isPaid" (ngModelChange)="onPaidChange(item)" class="select-none">پرداخت شده</label>
      </div>
    </article>

  </div>
  <button class="absolute shadow-md bottom-10 left-10 w-[52px] h-[52px]  text-center text-4xl rounded-full bg-emerald-500 text-white">
    <span class="relative top-1">+</span>
  </button>
</div>

<ng-template #remainingTemp>
  <bdi>{{ (remaining | async) | number }} تومان</bdi>
</ng-template>